webpackJsonp([0,3],{82:function(t,e,i){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},o=i(413),r=i(412),s=i(414),a=i(185),l=s([o,r]);t.exports=l,t.exports.touchStyles=a,t.exports.Mixin=n({},o,{onPinchStart:r.onPinchStart,onPinchMove:r.onPinchMove,onPinchEnd:r.onPinchEnd})},102:function(t,e,i){e=t.exports=i(58)(),e.push([t.id,"div.buildingList{font-size:0;background-color:#f0f0f0}div.buildingList>header{padding:.28125rem .3125rem;white-space:nowrap;border-bottom:.03125rem solid #ccc}div.buildingList>header>div{width:1.5625rem;height:.71875rem;line-height:.71875rem;color:#c80000;border:.03125rem solid #ccc;border-radius:.125rem;font-size:.375rem;display:inline-block;margin-right:.21875rem;text-align:center}div.buildingList>header>div>img{height:.375rem;margin-right:.1875rem}div.buildingList>header>input{width:7.34375rem;height:.71875rem;line-height:.71875rem;border:.03125rem solid #ccc;color:#969696;font-size:.34375rem;padding-left:.15625rem}div.buildingList>div.query{vertical-align:top;white-space:nowrap;height:1.09375rem;font-size:0;border-bottom:.03125rem solid #ccc}div.buildingList>div.query>div{color:#323232;border-left:2px solid #ccc;padding:.234375rem .3125rem;display:inline-block;font-size:.375rem;line-height:.625rem;width:2.671875rem}div.buildingList>div.query>div:first-child{border-left:0}div.buildingList>div.query>div>img{float:right;width:.21875rem;height:.21875rem;margin-left:.3125rem;margin-top:.203125rem;transition:transform .5s;-moz-transition:transform .5s;-webkit-transition:transform .5s}div.buildingList>div.query>div:hover>img{transform:rotate(180deg)}div.buildingList>ul{overflow:auto;background-clip:80%}div.buildingList>ul>footer{height:120px;color:#c80000;font-size:26px;line-height:120px;position:absolute;width:100%;bottom:0;left:0;text-align:center;z-index:0}div.buildingList>ul>a{display:block;height:6.25rem;position:relative;overflow:hidden;z-index:1}div.buildingList>ul>a>div{margin-top:-.9375rem}div.buildingList>ul>a>div>img{width:100%}div.buildingList>ul>a>footer{height:1.25rem;background:-webkit-gradient(linear,0 100%,0 0,from(rgba(0,0,0,.5)),to(hsla(0,0%,100%,0)));bottom:0;left:0;position:absolute;width:100%;padding-top:.78125rem}div.buildingList>ul>a>footer>div{padding:.109375rem .3125rem;line-height:.40625rem;height:.40625rem;font-size:.40625rem;color:#fff}div.buildingList>ul>a>footer>div>span.sm{font-size:.34375rem;color:#c8c8c8}div.buildingList>ul>a>footer>div>span.fr{float:right}div.buildingList>ul>div.dropDown{z-index:999;position:absolute;background-color:rgba(0,0,0,.8);width:100%;top:2.5rem;left:0;bottom:0;padding:0;font-size:.375rem;border:0}div.buildingList>ul>div.dropDown>div{height:7.5rem;font-size:0}div.buildingList>ul>div.dropDown>div>ul{height:6.25rem;overflow:auto;background-color:#fff;-webkit-overflow-scrolling:touch}div.buildingList>ul>div.dropDown>div>ul>li{-webkit-overflow-scrolling:touch;font-size:.375rem;padding-left:.3125rem;height:1.21875rem;line-height:1.21875rem;border-bottom:.03125rem solid #ccc}div.buildingList>ul>div.dropDown>div>ul.district{vertical-align:top;display:inline-block;overflow:auto;width:3.296875rem;border-right:.03125rem solid #ccc}div.buildingList>ul>div.dropDown>div>ul.district>li{height:1.25rem;border:0}div.buildingList>ul>div.dropDown>div>ul.district>li.active{background-color:#f0f0f0;color:#c80000}div.buildingList>ul>div.dropDown>div>ul.comm{vertical-align:top;display:inline-block;overflow:auto;width:6.671875rem}div.buildingList>ul>div.dropDown>div footer{height:1.21875rem;border-top:.03125rem solid #ccc;background-color:#f0f0f0;padding-left:.3125rem}",""])},133:function(t,e,i){var n=i(102);"string"==typeof n&&(n=[[t.id,n,""]]);var o=i(67)(n,{});n.locals&&(t.exports=n.locals),n.locals||t.hot.accept(102,function(){var e=i(102);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},185:function(t,e){"use strict";var i={WebkitTapHighlightColor:"rgba(0,0,0,0)",WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",cursor:"pointer"};t.exports=i},231:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;t=c,e=r,i=s,n=!0,a=c=void 0}},l=i(5),c=n(l),u=i(27),h=i(82),p=n(h),d=i(38),f=function(t){function e(){var t=this;o(this,i),a(Object.getPrototypeOf(i.prototype),"constructor",this).call(this),this.areas=[{min:0,max:"不限"},{min:0,max:100},{min:100,max:200},{min:200,max:300},{min:300,max:500},{min:500,max:700},{min:700,max:1e3},{min:1e3,max:1500},{min:1500,max:2e3},{min:2e3,max:"不限"}],setTimeout(function(){t.__areaChange=function(t,e){this.props.onChange("area",e.target.innerText),t.max="不限"==t.max?null:t.max,this.props.setArea(t.min,t.max),this.props.fetchBuildings()}}.bind(this),600)}r(e,t),s(e,[{key:"_areaChange",value:function(t,e){this.__areaChange?this.__areaChange(t,e):e.stopPropagation()}},{key:"render",value:function(){var t=this,e=this.areas.map(function(e,i){return 0==i?c["default"].createElement(p["default"],{key:i,component:"li",onTap:t._areaChange.bind(t,e)},"不限"):1==i?c["default"].createElement(p["default"],{key:i,component:"li",onTap:t._areaChange.bind(t,e)},"100㎡以下"):c["default"].createElement(p["default"],{key:i,component:"li",onTap:t._areaChange.bind(t,e)},"不限"==e.max?0==e.min?"不限":"2000+":e.min+"-"+e.max,"㎡")});return c["default"].createElement("div",null,c["default"].createElement("ul",null,e))}}]);var i=e;return e=u.connect(function(t){return{}},function(t){return{setArea:function(e,i){return t(d.setArea(e,i))},fetchBuildings:function(){return t(d.fetchBuildings())}}})(e)||e}(c["default"].Component);e["default"]=f,t.exports=e["default"]},232:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;t=c,e=r,i=s,n=!0,a=c=void 0}},l=i(5),c=n(l),u=i(27);i(133);var h=i(134),p=n(h),d=i(176),f=n(d),m=i(38),v=i(82),g=n(v),b=i(231),y=n(b),P=i(234),T=n(P),_=i(233),w=n(_),E=i(492),M=n(E),x=i(51),D=i(219),O=n(D),C=function(t){function e(){o(this,i),a(Object.getPrototypeOf(i.prototype),"constructor",this).call(this),this.isAdd=!0,this.state={isOpen:!1,districtName:null,areaName:null,priceName:null,top:300,height:700}}r(e,t),s(e,[{key:"componentDidMount",value:function(){this.props.buildings.length>0?this.refs.list.scrollTop=this.refs[this.props.building.id].parentElement.offsetTop:this.props.fetchBuildings(),this.setState({height:window.innerHeight-this.refs.list.offsetTop}),this.refs.list.onscroll=function(){window.innerHeight+this.refs.list.scrollTop+300>this.refs.list.lastChild.offsetTop&&this.isAdd&&(this.isAdd=!1,this.props.addBuildings())}.bind(this)}},{key:"render",value:function(){var t=this,e=function(t){switch(t.state.dropDown){case"district":return c["default"].createElement(w["default"],{onChange:t._handleChange.bind(t)});case"area":return c["default"].createElement(y["default"],{onChange:t._handleChange.bind(t)});case"price":return c["default"].createElement(T["default"],{onChange:t._handleChange.bind(t)});default:return null}}(this);this.props.buildings.length;return this.isAdd=!0,c["default"].createElement("div",{className:"buildingList"},c["default"].createElement("header",null,c["default"].createElement("div",null,c["default"].createElement("img",{src:O["default"]})," 地图"),c["default"].createElement("input",{placeholder:"请输入楼盘名称"})),c["default"].createElement("div",{className:"query",ref:"query"},c["default"].createElement("div",{onTouchStart:this._selectChange.bind(this,"district")},this.state.districtName||"区域"," ",c["default"].createElement("img",{src:M["default"]})),c["default"].createElement("div",{onTouchStart:this._selectChange.bind(this,"area")},this.state.areaName||"面积","  ",c["default"].createElement("img",{src:M["default"]})),c["default"].createElement("div",{onTouchStart:this._selectChange.bind(this,"price")},this.state.priceName||"租金"," ",c["default"].createElement("img",{src:M["default"]}))),c["default"].createElement("ul",{ref:"list",style:{height:this.state.height,overflow:this.state.isOpen?"hidden":"auto"}},this.props.buildings.map(function(e,i){return c["default"].createElement(x.Link,{to:"/houseDetail/"+e.buildingId,key:e.buildingId,style:{marginBottom:i+1==t.props.buildings.length?"120px":"0px"}},c["default"].createElement(f["default"],{src:e.buildingImage,wrapper:c["default"].DOM.div,preloader:function(){return c["default"].createElement("img",{src:p["default"]})}}),c["default"].createElement("footer",{ref:e.buildingId},c["default"].createElement("div",null,c["default"].createElement("span",null,e.buildingName),c["default"].createElement("span",{className:"fr sm"},"套房源"),c["default"].createElement("span",{className:"fr"},e.suitableNum)),c["default"].createElement("div",null,c["default"].createElement("span",{className:"sm"},e.buildingAddress),c["default"].createElement("span",{className:"fr sm"},"元m",c["default"].createElement("sup",null,"2"),".天"),c["default"].createElement("span",{className:"fr"},e.averageRent))))}),this.state.isOpen?c["default"].createElement(g["default"],{ref:"dropDown",style:{top:this.state.top},component:"div",className:"dropDown",onTap:this._closeDropDown.bind(this)},e):null,c["default"].createElement("footer",null,this.props.isBottom?"Oops,页面到底了！":"加载中。。。。")))}},{key:"_selectChange",value:function(t,e){this.setState({dropDown:t,isOpen:!0,top:this.refs.list.offsetTop})}},{key:"_closeDropDown",value:function(t){t.stopPropagation(),this.setState({isOpen:!1})}},{key:"_handleChange",value:function(t,e){switch(t){case"district":this.setState({districtName:e});break;case"area":this.setState({areaName:e});break;case"price":this.setState({priceName:e})}}}]);var i=e;return e=u.connect(function(t){return{buildings:t.building.buildings,isBottom:t.building.isBottom,building:t.building.building}},function(t){return{fetchBuildings:function(){return t(m.fetchBuildings())},addBuildings:function(){return t(m.addBuildings())}}})(e)||e}(c["default"].Component);e["default"]=C,t.exports=e["default"]},233:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;t=c,e=r,i=s,n=!0,a=c=void 0}},l=i(5),c=n(l),u=i(27);i(133);var h=i(38),p=i(82),d=n(p),f=function(t){function e(){var t=this;o(this,i),a(Object.getPrototypeOf(i.prototype),"constructor",this).call(this),this.state={},setTimeout(function(){t.__handleDistrictTouch=function(t,e){t.id?(e.stopPropagation(),this.props.onChange("district",e.target.innerText),this.props.setCurrentDistrict(t.id),this.props.fetchComms(),this.setState({districtId:t.id})):(this.props.onChange("district",e.target.innerText),this.props.setCurrentDistrict(t.id),this.props.setCurrentComm(null),this.props.fetchBuildings())},t.__handleCommTouch=function(t,e){console.log(888),this.props.onChange("district",e.target.innerText),this.props.setCurrentComm(t.id),this.props.fetchBuildings()}}.bind(this),600)}r(e,t),s(e,[{key:"componentDidMount",value:function(){this.props.fetchDistricts()}},{key:"_handleCommTouch",value:function(t,e){this.__handleCommTouch&&this.__handleCommTouch(t,e)}},{key:"_handleDistrictTouch",value:function(t,e){this.__handleDistrictTouch?this.__handleDistrictTouch(t,e):e.stopPropagation()}},{key:"render",value:function(){var t=this;return c["default"].createElement("div",null,c["default"].createElement("ul",{className:"district"},this.props.districts.map(function(e){return c["default"].createElement(d["default"],{key:e.id,component:"li",className:e.id==t.state.districtId?"active":null,onTap:t._handleDistrictTouch.bind(t,e)},e.name)})),this.state.districtId?c["default"].createElement("ul",{className:"comm"},this.props.comms.map(function(e){return c["default"].createElement(d["default"],{component:"li",key:e.id,onTap:t._handleCommTouch.bind(t,e)},e.name)})):null)}}]);var i=e;return e=u.connect(function(t){return{districts:t.query.city.districts,comms:t.query.city.district.comms}},function(t){return{fetchDistricts:function(){t(h.fetchDistricts())},fetchComms:function(){t(h.fetchComms())},setCurrentDistrict:function(e){return t(h.setCurrentDistrict(e))},setCurrentComm:function(e){return t(h.setCurrentComm(e))},fetchBuildings:function(){return t(h.fetchBuildings())}}})(e)||e}(c["default"].Component);e["default"]=f,t.exports=e["default"]},234:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;t=c,e=r,i=s,n=!0,a=c=void 0}},l=i(5),c=n(l),u=i(27);i(133);var h=i(82),p=n(h),d=i(38),f=function(t){function e(){var t=this;o(this,i),a(Object.getPrototypeOf(i.prototype),"constructor",this).call(this),this.prices=[{min:0,max:"不限"},{min:0,max:1},{min:1,max:2},{min:2,max:3},{min:3,max:4},{min:4,max:5},{min:5,max:6},{min:6,max:7},{min:7,max:8},{min:8,max:9},{min:9,max:"不限"}],setTimeout(function(){t.__priceChange=function(t,e){this.props.onChange("price",e.target.innerText),t.max="不限"==t.max?null:t.max,this.props.setPrice(t.min,t.max),this.props.fetchBuildings()}}.bind(this),600)}r(e,t),s(e,[{key:"_priceChange",value:function(t,e){this.__priceChange?this.__priceChange(t,e):e.stopPropagation()}},{key:"render",value:function(){var t=this,e=this.prices.map(function(e,i){return 0==i?c["default"].createElement(p["default"],{key:i,component:"li",onTap:t._priceChange.bind(t,e)},"不限"):1==i?c["default"].createElement(p["default"],{key:i,component:"li",onTap:t._priceChange.bind(t,e)},"1元/㎡.天以下"):c["default"].createElement(p["default"],{key:i,component:"li",onTap:t._priceChange.bind(t,e)},"不限"==e.max?0==e.min?"不限":"9+":e.min+"-"+e.max,"元/㎡.天")});return c["default"].createElement("div",null,c["default"].createElement("ul",null,e))}}]);var i=e;return e=u.connect(function(t){return{}},function(t){return{setPrice:function(e,i){return t(d.setPrice(e,i))},fetchBuildings:function(){return t(d.fetchBuildings())}}})(e)||e}(c["default"].Component);e["default"]=f,t.exports=e["default"]},412:function(t,e,i){"use strict";function n(t){return{touches:Array.prototype.map.call(t,function(t){return{identifier:t.identifier,pageX:t.pageX,pageY:t.pageY}}),center:{x:(t[0].pageX+t[1].pageX)/2,y:(t[0].pageY+t[1].pageY)/2},angle:Math.atan()*(t[1].pageY-t[0].pageY)/(t[1].pageX-t[0].pageX)*180/Math.PI,distance:Math.sqrt(Math.pow(Math.abs(t[1].pageX-t[0].pageX),2)+Math.pow(Math.abs(t[1].pageY-t[0].pageY),2))}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=i(5),s={propTypes:{onPinchStart:r.PropTypes.func,onPinchMove:r.PropTypes.func,onPinchEnd:r.PropTypes.func},onPinchStart:function(t){this._initialTouch&&this.endTouch();var e=t.touches;this._initialPinch=n(e),this._initialPinch=o(this._initialPinch,{displacement:{x:0,y:0},displacementVelocity:{x:0,y:0},rotation:0,rotationVelocity:0,zoom:1,zoomVelocity:0,time:Date.now()}),this._lastPinch=this._initialPinch,this.props.onPinchStart&&this.props.onPinchStart(this._initialPinch,t)},onPinchMove:function(t){this._initialTouch&&this.endTouch();var e=t.touches;if(2!==e.length)return this.onPinchEnd(t);var i=n(e[0].identifier===this._initialPinch.touches[0].identifier&&e[1].identifier===this._initialPinch.touches[1].identifier?e:e[1].identifier===this._initialPinch.touches[0].identifier&&e[0].identifier===this._initialPinch.touches[1].identifier?e.reverse():e);i.displacement={x:i.center.x-this._initialPinch.center.x,y:i.center.y-this._initialPinch.center.y},i.time=Date.now();var o=i.time-this._lastPinch.time;i.displacementVelocity={x:(i.displacement.x-this._lastPinch.displacement.x)/o,y:(i.displacement.y-this._lastPinch.displacement.y)/o},i.rotation=i.angle-this._initialPinch.angle,i.rotationVelocity=i.rotation-this._lastPinch.rotation/o,i.zoom=i.distance/this._initialPinch.distance,i.zoomVelocity=(i.zoom-this._lastPinch.zoom)/o,this.props.onPinchMove&&this.props.onPinchMove(i,t),this._lastPinch=i},onPinchEnd:function(t){var e=o({},this._lastPinch);e.time=Date.now(),e.time-this._lastPinch.time>16&&(e.displacementVelocity=0,e.rotationVelocity=0,e.zoomVelocity=0),this.props.onPinchEnd&&this.props.onPinchEnd(e,t),this._initialPinch=this._lastPinch=null}};t.exports=s},413:function(t,e,i){"use strict";function n(t){return t?{pageX:t.pageX,pageY:t.pageY,clientX:t.clientX,clientY:t.clientY}:{}}var o=i(5),r=i(175),s={propTypes:{moveThreshold:o.PropTypes.number,activeDelay:o.PropTypes.number,pressDelay:o.PropTypes.number,pressMoveThreshold:o.PropTypes.number,preventDefault:o.PropTypes.bool,stopPropagation:o.PropTypes.bool,onTap:o.PropTypes.func,onPress:o.PropTypes.func,onTouchStart:o.PropTypes.func,onTouchMove:o.PropTypes.func,onTouchEnd:o.PropTypes.func,onMouseDown:o.PropTypes.func,onMouseUp:o.PropTypes.func,onMouseMove:o.PropTypes.func,onMouseOut:o.PropTypes.func},getDefaultProps:function(){return{activeDelay:0,moveThreshold:100,pressDelay:1e3,pressMoveThreshold:5}},getInitialState:function(){return{isActive:!1,touchActive:!1,pinchActive:!1}},componentWillUnmount:function(){this.cleanupScrollDetection(),this.cancelPressDetection(),this.clearActiveTimeout()},processEvent:function(t){this.props.preventDefault&&t.preventDefault(),this.props.stopPropagation&&t.stopPropagation()},onTouchStart:function(t){this.props.onTouchStart&&this.props.onTouchStart(t)===!1||(this.processEvent(t),window._blockMouseEvents=!0,1===t.touches.length?(this._initialTouch=this._lastTouch=n(t.touches[0]),this.initScrollDetection(),this.initPressDetection(t,this.endTouch),this._activeTimeout=setTimeout(this.makeActive,this.props.activeDelay)):this.onPinchStart&&(this.props.onPinchStart||this.props.onPinchMove||this.props.onPinchEnd)&&2===t.touches.length&&this.onPinchStart(t))},makeActive:function(){this.isMounted()&&(this.clearActiveTimeout(),this.setState({isActive:!0}))},clearActiveTimeout:function(){clearTimeout(this._activeTimeout),this._activeTimeout=!1},initScrollDetection:function(){this._scrollPos={top:0,left:0},this._scrollParents=[],this._scrollParentPos=[];for(var t=r.findDOMNode(this);t;)(t.scrollHeight>t.offsetHeight||t.scrollWidth>t.offsetWidth)&&(this._scrollParents.push(t),this._scrollParentPos.push(t.scrollTop+t.scrollLeft),this._scrollPos.top+=t.scrollTop,this._scrollPos.left+=t.scrollLeft),t=t.parentNode},calculateMovement:function(t){return{x:Math.abs(t.clientX-this._initialTouch.clientX),y:Math.abs(t.clientY-this._initialTouch.clientY)}},detectScroll:function(){for(var t={top:0,left:0},e=0;e<this._scrollParents.length;e++)t.top+=this._scrollParents[e].scrollTop,t.left+=this._scrollParents[e].scrollLeft;return!(t.top===this._scrollPos.top&&t.left===this._scrollPos.left)},cleanupScrollDetection:function(){this._scrollParents=void 0,this._scrollPos=void 0},initPressDetection:function(t,e){this.props.onPress&&(this._pressTimeout=setTimeout(function(){this.props.onPress(t),e()}.bind(this),this.props.pressDelay))},cancelPressDetection:function(){clearTimeout(this._pressTimeout)},onTouchMove:function(t){if(this._initialTouch){if(this.processEvent(t),this.detectScroll())return this.endTouch(t);this.props.onTouchMove&&this.props.onTouchMove(t),this._lastTouch=n(t.touches[0]);var e=this.calculateMovement(this._lastTouch);(e.x>this.props.pressMoveThreshold||e.y>this.props.pressMoveThreshold)&&this.cancelPressDetection(),e.x>this.props.moveThreshold||e.y>this.props.moveThreshold?this.state.isActive?this.setState({isActive:!1}):this._activeTimeout&&this.clearActiveTimeout():this.state.isActive||this._activeTimeout||this.setState({isActive:!0})}else this._initialPinch&&2===t.touches.length&&this.onPinchMove&&(this.onPinchMove(t),t.preventDefault())},onTouchEnd:function(t){var e=this;if(this._initialTouch){this.processEvent(t);var i,n=this.calculateMovement(this._lastTouch);n.x<=this.props.moveThreshold&&n.y<=this.props.moveThreshold&&this.props.onTap&&(t.preventDefault(),i=function(){var i=e._scrollParents.map(function(t){return t.scrollTop+t.scrollLeft}),n=e._scrollParentPos.some(function(t,e){return t!==i[e]});n||e.props.onTap(t)}),this.endTouch(t,i)}else this.onPinchEnd&&this._initialPinch&&t.touches.length+t.changedTouches.length===2&&(this.onPinchEnd(t),t.preventDefault())},endTouch:function(t,e){this.cancelPressDetection(),this.clearActiveTimeout(),t&&this.props.onTouchEnd&&this.props.onTouchEnd(t),this._initialTouch=null,this._lastTouch=null,e&&e(),this.state.isActive&&this.setState({isActive:!1})},onMouseDown:function(t){return window._blockMouseEvents?void(window._blockMouseEvents=!1):void(this.props.onMouseDown&&this.props.onMouseDown(t)===!1||(this.processEvent(t),this.initPressDetection(t,this.endMouseEvent),this._mouseDown=!0,this.setState({isActive:!0})))},onMouseMove:function(t){!window._blockMouseEvents&&this._mouseDown&&(this.processEvent(t),this.props.onMouseMove&&this.props.onMouseMove(t))},onMouseUp:function(t){!window._blockMouseEvents&&this._mouseDown&&(this.processEvent(t),this.props.onMouseUp&&this.props.onMouseUp(t),this.props.onTap&&this.props.onTap(t),this.endMouseEvent())},onMouseOut:function(t){!window._blockMouseEvents&&this._mouseDown&&(this.processEvent(t),this.props.onMouseOut&&this.props.onMouseOut(t),this.endMouseEvent())},endMouseEvent:function(){this.cancelPressDetection(),this._mouseDown=!1,this.setState({isActive:!1})},cancelTap:function(){this.endTouch(),this._mouseDown=!1},handlers:function(){return{onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseMove:this.onMouseMove,onMouseOut:this.onMouseOut}}};t.exports=s},414:function(t,e,i){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},o=i(5),r=i(185);t.exports=function(t){return o.createClass({displayName:"Tappable",mixins:t,propTypes:{component:o.PropTypes.any,className:o.PropTypes.string,classBase:o.PropTypes.string,style:o.PropTypes.object,disabled:o.PropTypes.bool},getDefaultProps:function(){return{component:"span",classBase:"Tappable"}},render:function(){var t=this.props,e=t.classBase+(this.state.isActive?"-active":"-inactive");t.className&&(e+=" "+t.className);var i={};n(i,r,t.style);var s=n({},t,{style:i,className:e,disabled:t.disabled,handlers:this.handlers},this.handlers());return delete s.onTap,delete s.onPress,delete s.onPinchStart,delete s.onPinchMove,delete s.onPinchEnd,delete s.moveThreshold,delete s.pressDelay,delete s.pressMoveThreshold,delete s.preventDefault,delete s.stopPropagation,delete s.component,o.createElement(t.component,s,t.children)}})}},492:function(t,e,i){t.exports=i.p+"25df54bf4058a7e26776916c7fd00708.png"}});